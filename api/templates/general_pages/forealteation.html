{% extends "shared/base.html" %}

{% block title %}
    <title>restrictapp</title>
{% endblock %}


{% block content %}
    <!--<div class="w3-bar w3-display-container w3-white w3-border-bottom w3-xlarge">
        <a href="#" class="w3-bar-item w3-button w3-text-red w3-hover-red"><b><i class="fa fa-map-marker w3-margin-right"></i>restrictapp</b></a>
        <a href="" class="w3-bar-item w3-button w3-right w3-hover-red w3-text-orange w3-xlarge"> login</a>
        <a href="" class="w3-bar-item w3-button w3-right w3-hover-red w3-text-orange w3-xlarge">enquiries</a>
        
    </div>-->

    <div class="container">
       <!-- <img src="{{ url_for('static', path='images/bg.jpg') }}" alt="Restrictapp" class="img-fluid">-->
        <h1 class="display-4"> Where do you want to travel?</h1>
    </div>
    <div class="container mt-5">
        <div class=" container-sm input-group input-group-lg mb-3">
            <input list="countries" style="background-color: white; color: #3D5A80; font-family:monospace; font-size: large; text-align: center; width: 60%; height: 60px;" type="text" name="wohin" id="wohin" class="form-control mx-auto rounded-pill" placeholder="LÃ¤ndername /  Country Name" aria-label="Destination" aria-describedby="button-addon2">
        </div>
        <datalist id="countries">
        {% for country in countries%}
            <option value="{{country}}"></option>
        {% endfor %}
        </datalist>

        <br>
        <div class="mt-0 mb-5">
            <div class="row center">
            <div class="form-check form-switch col-sm-2 mx-auto">
                <input class="form-check-input" type="checkbox" id="mask" onclick="maskRegister()">
                <label style="color: #3D5A80; font-family:monospace; text-align: center;" class="form-check-label" for="mask">Mask required</label>
            </div>
            <div class="form-check form-switch col-sm-2 mx-auto">
                <input class="form-check-input" type="checkbox" id="restaurant" onclick="restaurantRegister()">
                <label style="color: #3D5A80; font-family:monospace; text-align: center;" class="form-check-label" for="restaurant">Restaurants open</label>
            </div>
            <div class="form-check form-switch col-sm-2 mx-auto">
                <input class="form-check-input" type="checkbox" id="bar" onclick="barRegister()">
                <label style="color: #3D5A80; font-family:monospace; text-align: center;" class="form-check-label" for="bar">Bars open</label>
            </div>
        </div>
        </div>
        <br>
        <br>
        <div class="d-grid gap-2 col-6 mx-auto">
            <a style="border: 2px solid #14213D; background-color: #E0FBFC; color: #3D5A80; font-family:monospace; font-size: large; text-align: center;" class="btn me-md-2 btn-lg rounded-pill" href="https://restrictapp.deta.dev/restriction-output/destination=" role="button" id="link">Proceed</a>
        </div>
    
    <script>
        function maskRegister() {
            document.getElementById("mask").value = "relevant";
        }

        function restaurantRegister() {
            document.getElementById("restaurant").value = "relevant";
        }

        function barRegister() {
            document.getElementById("bar").value = "relevant";
        }
        
        var link = document.getElementById("link");
    
            //this function gets called whenever the text in the text box changes
        link.onclick = function() {
        var input = document.getElementById("wohin");

        var maskCheck = document.getElementById("mask").value;
        if (maskCheck == "relevant") {
            var mask = "yes";
        } else {
            mask = "no";
        }

        var resCheck = document.getElementById("restaurant").value;
        if (resCheck == "relevant") {
            var restaurant = "yes";
        } else {
            restaurant = "no";
        }

        var barCheck = document.getElementById("bar").value;
        if (barCheck == "relevant") {
            var bar = "yes";
        } else {
            bar = "no";
        }
        
                //here, this.value is the value of the input "wohin"
        var cup = input.value
        link.href = "https://restrictapp.deta.dev/restriction-output/destination=" + cup.toLowerCase() + "/origin=DE/" + bar + mask + restaurant ;
        }
    </script>


    </div>


{% endblock %}